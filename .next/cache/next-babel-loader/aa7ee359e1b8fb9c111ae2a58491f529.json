{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { EmptyState, Page, Layout } from '@shopify/polaris';\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\nimport store from 'store-js';\nimport ResourceListWithProducts from '../components/ResourceList';\nvar img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nvar index = function index() {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var emptyState = !store.get('ids');\n\n  var handleSelection = function handleSelection(resources) {\n    setOpen(false);\n    var idsFromResources = resources.selection.map(function (product) {\n      return product.id;\n    });\n    store.set('ids', idsFromResources);\n  };\n\n  return __jsx(Page, null, __jsx(TitleBar, {\n    primaryAction: {\n      content: 'Select Products',\n      onAction: function onAction() {\n        return setOpen(true);\n      }\n    }\n  }), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: function onSelection(resources) {\n      return handleSelection(resources);\n    },\n    onCancel: function onCancel() {\n      return setOpen(false);\n    }\n  }), __jsx(Layout, null, __jsx(EmptyState, {\n    heading: \"Discount your products temporarily\",\n    action: {\n      content: 'Select Products',\n      onAction: function onAction() {\n        return setOpen(true);\n      }\n    },\n    image: img\n  }, __jsx(\"p\", null, \"Select products to change their price -temporarily.\"))), __jsx(ResourceListWithProducts, null));\n};\n\nexport default index;","map":{"version":3,"sources":["C:/Users/USER/Desktop/shopify/KOA/pages/index.js"],"names":["EmptyState","Page","Layout","ResourcePicker","TitleBar","store","ResourceListWithProducts","img","index","React","useState","open","setOpen","emptyState","get","handleSelection","resources","idsFromResources","selection","map","product","id","set","content","onAction"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,IAArB,EAA2BC,MAA3B,QAAyC,kBAAzC;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,2BAAzC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,wBAAP,MAAqC,4BAArC;AAEA,IAAMC,GAAG,GAAG,mEAAZ;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA,wBACMC,KAAK,CAACC,QAAN,CAAe,KAAf,CADN;AAAA;AAAA,MACXC,IADW;AAAA,MACLC,OADK;;AAGlB,MAAMC,UAAU,GAAG,CAACR,KAAK,CAACS,GAAN,CAAU,KAAV,CAApB;;AACA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD,EAAe;AACrCJ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACA,QAAMK,gBAAgB,GAAGD,SAAS,CAACE,SAAV,CAAoBC,GAApB,CAAwB,UAACC,OAAD;AAAA,aAAaA,OAAO,CAACC,EAArB;AAAA,KAAxB,CAAzB;AACAhB,IAAAA,KAAK,CAACiB,GAAN,CAAU,KAAV,EAAiBL,gBAAjB;AACD,GAJD;;AAMA,SACE,MAAC,IAAD,QACE,MAAC,QAAD;AACE,IAAA,aAAa,EAAE;AACbM,MAAAA,OAAO,EAAE,iBADI;AAEbC,MAAAA,QAAQ,EAAE;AAAA,eAAMZ,OAAO,CAAC,IAAD,CAAb;AAAA;AAFG;AADjB,IADF,EAOE,MAAC,cAAD;AACE,IAAA,YAAY,EAAC,SADf;AAEE,IAAA,YAAY,EAAE,KAFhB;AAGE,IAAA,IAAI,EAAED,IAHR;AAIE,IAAA,WAAW,EAAE,qBAACK,SAAD;AAAA,aAAeD,eAAe,CAACC,SAAD,CAA9B;AAAA,KAJf;AAKE,IAAA,QAAQ,EAAE;AAAA,aAAMJ,OAAO,CAAC,KAAD,CAAb;AAAA;AALZ,IAPF,EAcE,MAAC,MAAD,QACE,MAAC,UAAD;AACE,IAAA,OAAO,EAAC,oCADV;AAEE,IAAA,MAAM,EAAE;AACNW,MAAAA,OAAO,EAAE,iBADH;AAENC,MAAAA,QAAQ,EAAE;AAAA,eAAMZ,OAAO,CAAC,IAAD,CAAb;AAAA;AAFJ,KAFV;AAME,IAAA,KAAK,EAAEL;AANT,KAQE,uEARF,CADF,CAdF,EA0BE,MAAC,wBAAD,OA1BF,CADF;AA8BD,CAxCD;;AAyCA,eAAeC,KAAf","sourcesContent":["import { EmptyState, Page, Layout } from '@shopify/polaris';\r\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\r\nimport store from 'store-js';\r\nimport ResourceListWithProducts from '../components/ResourceList';\r\n\r\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\r\n\r\nconst index = () => {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const emptyState = !store.get('ids');\r\n  const handleSelection = (resources) => {\r\n    setOpen(false);\r\n    const idsFromResources = resources.selection.map((product) => product.id);\r\n    store.set('ids', idsFromResources);\r\n  };\r\n\r\n  return (\r\n    <Page>\r\n      <TitleBar\r\n        primaryAction={{\r\n          content: 'Select Products',\r\n          onAction: () => setOpen(true),\r\n        }}\r\n      />\r\n      <ResourcePicker\r\n        resourceType='Product'\r\n        showVariants={false}\r\n        open={open}\r\n        onSelection={(resources) => handleSelection(resources)}\r\n        onCancel={() => setOpen(false)}\r\n      />\r\n      <Layout>\r\n        <EmptyState\r\n          heading='Discount your products temporarily'\r\n          action={{\r\n            content: 'Select Products',\r\n            onAction: () => setOpen(true),\r\n          }}\r\n          image={img}\r\n        >\r\n          <p>Select products to change their price -temporarily.</p>\r\n        </EmptyState>\r\n      </Layout>\r\n      <ResourceListWithProducts />\r\n    </Page>\r\n  );\r\n};\r\nexport default index;\r\n"]},"metadata":{},"sourceType":"module"}